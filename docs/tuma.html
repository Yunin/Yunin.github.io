<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Yunin</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Blog">
    
    <link rel="preload" href="/assets/css/0.styles.1eb03091.css" as="style"><link rel="preload" href="/assets/js/app.87a2dc73.js" as="script"><link rel="preload" href="/assets/js/3.b43d3268.js" as="script"><link rel="preload" href="/assets/js/1.b04ffbe0.js" as="script"><link rel="preload" href="/assets/js/15.ac7e15df.js" as="script"><link rel="preload" href="/assets/js/8.b7d4adf4.js" as="script"><link rel="prefetch" href="/assets/js/10.2cde7547.js"><link rel="prefetch" href="/assets/js/11.286a0ebc.js"><link rel="prefetch" href="/assets/js/12.91671fb9.js"><link rel="prefetch" href="/assets/js/13.7eda21e6.js"><link rel="prefetch" href="/assets/js/14.604d9a74.js"><link rel="prefetch" href="/assets/js/16.423cd8bc.js"><link rel="prefetch" href="/assets/js/4.74dd391f.js"><link rel="prefetch" href="/assets/js/5.c4a2a838.js"><link rel="prefetch" href="/assets/js/6.60b556de.js"><link rel="prefetch" href="/assets/js/7.440d5bf9.js"><link rel="prefetch" href="/assets/js/9.a1561351.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1eb03091.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>Yunin</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>Blog</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Yunin</span>
            
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Yunin" class="logo"> <span class="site-name">Yunin</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Design/" class="nav-link"><i class="undefined"></i>
  Design
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/Tool/" class="nav-link"><i class="undefined"></i>
  Tool
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    Yunin
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>3</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>4</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Design/" class="nav-link"><i class="undefined"></i>
  Design
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/Tool/" class="nav-link"><i class="undefined"></i>
  Tool
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/tuma.html" aria-current="page" class="active sidebar-link">/docs/tuma.html</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc></h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>Yunin</span>
            
          <!---->
          2021
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title"></h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>Yunin</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#前言">前言</a></li><li><a href="#一、需求">一、需求</a></li><li><a href="#二、tuma-er图">二、Tuma ER图</a></li><li><a href="#三、技术设计">三、技术设计</a><ul><li><a href="#_1-bag-task">1. BAG Task</a></li><li><a href="#_2-project">2. Project</a></li></ul></li></ul></div><p></p> <h1 id="tuma"><a href="#tuma" class="header-anchor">#</a> TUMA</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <h2 id="一、需求"><a href="#一、需求" class="header-anchor">#</a> 一、需求</h2> <h2 id="二、tuma-er图"><a href="#二、tuma-er图" class="header-anchor">#</a> 二、Tuma ER图</h2> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="211px" preserveAspectRatio="none" version="1.1" viewBox="0 0 308 211" width="308px" zoomAndPan="magnify" style="width:308px;height:211px;background:#000000;"><defs></defs><g><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="261" x="5" y="19">Dot Executable: /opt/local/bin/dot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="5" y="35.2969">File does not exist</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="291" x="5" y="51.5938">Cannot find Graphviz. You should try</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="67.8906"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="5" y="84.1875">@startuml</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="5" y="100.4844">testdot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="5" y="116.7813">@enduml</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="133.0781"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="10" y="149.375">or</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="165.6719"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="5" y="181.9688">java -jar plantuml.jar -testdot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="198.2656"></text></g></svg><h2 id="三、技术设计"><a href="#三、技术设计" class="header-anchor">#</a> 三、技术设计</h2> <h3 id="_1-bag-task"><a href="#_1-bag-task" class="header-anchor">#</a> 1. BAG Task</h3> <h4 id="a-bag-task-translation-列表页翻译"><a href="#a-bag-task-translation-列表页翻译" class="header-anchor">#</a> a) BAG task translation(列表页翻译)</h4> <p><img src="imags/image-20200909164212384.png" alt="image-20200909164212384"></p> <h5 id="i-搜索"><a href="#i-搜索" class="header-anchor">#</a> i. 搜索</h5> <p>支持不同维度对BAG进行搜索</p> <h5 id="ii-工具"><a href="#ii-工具" class="header-anchor">#</a> ii.工具</h5> <p>删除，添加，下载，预翻译以及自动记忆翻译支持locales。</p> <h5 id="iii-展示区"><a href="#iii-展示区" class="header-anchor">#</a> iii. 展示区</h5> <ol><li>支持按照翻译内容状态过滤。</li> <li>展示所有对应Key下的所有列表。</li></ol> <h5 id="iv-提示区"><a href="#iv-提示区" class="header-anchor">#</a> iv. 提示区</h5> <ol><li>Matched 包括记忆库，google，tripAI等提示。</li> <li>History 翻译历史。</li> <li>Summary 针对原文统计信息。</li> <li>Glossary</li> <li>Search</li></ol> <h5 id="v-翻译区"><a href="#v-翻译区" class="header-anchor">#</a> v. 翻译区</h5> <ol><li>原文内容展示，可以选择不同locale作为原文。</li> <li>翻译，包括草稿和内容保存。</li></ol> <h4 id="b-two-column-view-双栏翻译"><a href="#b-two-column-view-双栏翻译" class="header-anchor">#</a> b) Two column view（双栏翻译）</h4> <p><img src="imags/image-20200909164713276.png" alt="image-20200909164713276"></p> <h5 id="i-搜索区域"><a href="#i-搜索区域" class="header-anchor">#</a> i. 搜索区域</h5> <p>不同维度搜索支持</p> <h5 id="ii-查找-替换"><a href="#ii-查找-替换" class="header-anchor">#</a> ii. 查找&amp;替换</h5> <ol><li>查找替换都是基于当前页的数据实现的，实现逻辑集成在前端。</li></ol> <h5 id="iii-工作区域"><a href="#iii-工作区域" class="header-anchor">#</a> iii. 工作区域</h5> <p>1.内容和草稿保存</p> <p>2.复数支持</p> <h5 id="iv-stack-mode"><a href="#iv-stack-mode" class="header-anchor">#</a> iv. stack mode</h5> <ol><li>后台支持接口，点击Plural，自动生成对应支持的key 列表。</li> <li>stack 翻译列表</li></ol> <h5 id="v-提示区"><a href="#v-提示区" class="header-anchor">#</a> v. 提示区</h5> <h4 id="c-数据接收"><a href="#c-数据接收" class="header-anchor">#</a> c) 数据接收</h4> <ol><li><p>编辑翻译+导入</p> <p>编辑线上编辑内容或者线下翻译完，导入至TUMA平台。</p></li> <li><p>接口接收</p> <p>业务线下申请token，TUMA创建BAG task，线下发放token和bag taskID ，业务方推送数据。</p></li></ol> <h4 id="d-数据推送"><a href="#d-数据推送" class="header-anchor">#</a> d) 数据推送</h4> <p><img src="imags/image-20200909165305618.png" alt="image-20200909165305618"></p> <p>在 BAG 翻译的数据，都需要在数据确认完，自动推送给业务方，主要是通过业务方申请的token，确定接收数据topic.</p> <h3 id="_2-project"><a href="#_2-project" class="header-anchor">#</a> 2. Project</h3> <p>tuma 的翻译任务来源主要有以下几种：</p> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="211px" preserveAspectRatio="none" version="1.1" viewBox="0 0 308 211" width="308px" zoomAndPan="magnify" style="width:308px;height:211px;background:#000000;"><defs></defs><g><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="261" x="5" y="19">Dot Executable: /opt/local/bin/dot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="5" y="35.2969">File does not exist</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="291" x="5" y="51.5938">Cannot find Graphviz. You should try</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="67.8906"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="5" y="84.1875">@startuml</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="5" y="100.4844">testdot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="5" y="116.7813">@enduml</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="133.0781"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="10" y="149.375">or</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="165.6719"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="5" y="181.9688">java -jar plantuml.jar -testdot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="198.2656"></text></g></svg><h4 id="_1-project-工作流"><a href="#_1-project-工作流" class="header-anchor">#</a> 1.project 工作流</h4> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="211px" preserveAspectRatio="none" version="1.1" viewBox="0 0 308 211" width="308px" zoomAndPan="magnify" style="width:308px;height:211px;background:#000000;"><defs></defs><g><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="261" x="5" y="19">Dot Executable: /opt/local/bin/dot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="5" y="35.2969">File does not exist</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="291" x="5" y="51.5938">Cannot find Graphviz. You should try</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="67.8906"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="5" y="84.1875">@startuml</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="5" y="100.4844">testdot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="5" y="116.7813">@enduml</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="133.0781"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="10" y="149.375">or</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="165.6719"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="5" y="181.9688">java -jar plantuml.jar -testdot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="198.2656"></text></g></svg><h4 id="_2-projet-relation-对应下bag的工作流"><a href="#_2-projet-relation-对应下bag的工作流" class="header-anchor">#</a> 2. Projet relation 对应下Bag的工作流</h4> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="211px" preserveAspectRatio="none" version="1.1" viewBox="0 0 308 211" width="308px" zoomAndPan="magnify" style="width:308px;height:211px;background:#000000;"><defs></defs><g><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="261" x="5" y="19">Dot Executable: /opt/local/bin/dot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="5" y="35.2969">File does not exist</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="291" x="5" y="51.5938">Cannot find Graphviz. You should try</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="67.8906"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="5" y="84.1875">@startuml</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="5" y="100.4844">testdot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="5" y="116.7813">@enduml</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="133.0781"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="10" y="149.375">or</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="165.6719"></text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="5" y="181.9688">java -jar plantuml.jar -testdot</text><text fill="#33FF02" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="10" y="198.2656"></text></g></svg><h4 id="_3-bag-task-translation-数据拷贝"><a href="#_3-bag-task-translation-数据拷贝" class="header-anchor">#</a> 3. BAG task translation 数据拷贝</h4> <p>数据拷贝：</p> <ol><li>如果relation 清空后，再拷贝，发生在Project reject 重新后再调整。</li> <li>relation 只需要拷贝。</li> <li>BAG content 状态需要把unchecked更新为初始化状态；<br>
之前的状态有：translated,unchecked,empty,draft,myDraft 四个状态，现在增加一种inited,代表从旧的Task拷贝而来，前提是之前存在的值，这个过程只发生在Project 处于assigned分配过程中。</li></ol> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="429px" preserveAspectRatio="none" version="1.1" viewBox="0 0 690 429" width="690px" zoomAndPan="magnify" style="width:690px;height:429px;"><defs><filter height="300%" id="ffmil7enu1ata" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><ellipse cx="332" cy="20" fill="#000000" filter="url(#ffmil7enu1ata)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"></ellipse><rect fill="#FEFECE" filter="url(#ffmil7enu1ata)" height="33.9688" rx="12.5" ry="12.5" width="71" x="296.5" y="50" style="stroke:#A80036;stroke-width:1.5;"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="306.5" y="71.1387">Relation</text><rect fill="#FEFECE" filter="url(#ffmil7enu1ata)" height="33.9688" rx="12.5" ry="12.5" width="278" x="193" y="152.3711" style="stroke:#A80036;stroke-width:1.5;"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="254" x="207" y="173.5098">对应清空BagTask,BagTaskInfo,BagContenets</text><polygon fill="#FEFECE" filter="url(#ffmil7enu1ata)" points="258.5,103.9688,405.5,103.9688,417.5,115.9688,405.5,127.9688,258.5,127.9688,246.5,115.9688,258.5,103.9688" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="336" y="138.1792">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="258.5" y="119.7769">Relation 定义的refTableId &gt;0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="417.5" y="113.3745">no</text><polygon fill="#FEFECE" filter="url(#ffmil7enu1ata)" points="332,206.3398,344,218.3398,332,230.3398,320,218.3398,332,206.3398" style="stroke:#A80036;stroke-width:1.5;"></polygon><rect fill="#FEFECE" filter="url(#ffmil7enu1ata)" height="33.9688" rx="12.5" ry="12.5" width="644" x="10" y="298.7422" style="stroke:#A80036;stroke-width:1.5;"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="620" x="24" y="319.8809">Relation 关联Condition 完整拷贝BagTask,BagTaskInfo,BagContenets，对应更新relation,condition bagTaskSetId</text><polygon fill="#FEFECE" filter="url(#ffmil7enu1ata)" points="290,250.3398,374,250.3398,386,262.3398,374,274.3398,290,274.3398,278,262.3398,290,250.3398" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="336" y="284.5503">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="290" y="266.1479">RefTable 为BAG</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="386" y="259.7456">no</text><polygon fill="#FEFECE" filter="url(#ffmil7enu1ata)" points="332,352.7109,344,364.7109,332,376.7109,320,364.7109,332,352.7109" style="stroke:#A80036;stroke-width:1.5;"></polygon><ellipse cx="332" cy="407.7109" fill="#FFFFFF" filter="url(#ffmil7enu1ata)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"></ellipse><ellipse cx="332" cy="407.7109" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"></ellipse><line x1="332" x2="332" y1="30" y2="50" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="328,40,332,50,336,40,332,44" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="332" x2="332" y1="127.9688" y2="152.3711" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="328,142.3711,332,152.3711,336,142.3711,332,146.3711" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="417.5" x2="481" y1="115.9688" y2="115.9688" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="477,159.3555,481,169.3555,485,159.3555,481,163.3555" style="stroke:#A80036;stroke-width:1.5;"></polygon><line x1="481" x2="481" y1="115.9688" y2="218.3398" style="stroke:#A80036;stroke-width:1.5;"></line><line x1="481" x2="344" y1="218.3398" y2="218.3398" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="354,214.3398,344,218.3398,354,222.3398,350,218.3398" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="332" x2="332" y1="186.3398" y2="206.3398" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="328,196.3398,332,206.3398,336,196.3398,332,200.3398" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="332" x2="332" y1="83.9688" y2="103.9688" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="328,93.9688,332,103.9688,336,93.9688,332,97.9688" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="332" x2="332" y1="274.3398" y2="298.7422" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="328,288.7422,332,298.7422,336,288.7422,332,292.7422" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="386" x2="664" y1="262.3398" y2="262.3398" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="660,305.7266,664,315.7266,668,305.7266,664,309.7266" style="stroke:#A80036;stroke-width:1.5;"></polygon><line x1="664" x2="664" y1="262.3398" y2="364.7109" style="stroke:#A80036;stroke-width:1.5;"></line><line x1="664" x2="344" y1="364.7109" y2="364.7109" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="354,360.7109,344,364.7109,354,368.7109,350,364.7109" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="332" x2="332" y1="332.7109" y2="352.7109" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="328,342.7109,332,352.7109,336,342.7109,332,346.7109" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="332" x2="332" y1="230.3398" y2="250.3398" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="328,240.3398,332,250.3398,336,240.3398,332,244.3398" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="332" x2="332" y1="376.7109" y2="396.7109" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="328,386.7109,332,396.7109,336,386.7109,332,390.7109" style="stroke:#A80036;stroke-width:1.0;"></polygon></g></svg><h4 id="_4-bag-初始化状态-project情况下"><a href="#_4-bag-初始化状态-project情况下" class="header-anchor">#</a> 4. BAG 初始化状态（Project情况下）</h4> <ol><li>对应需要生成需要指定的Task 负责人的表。</li> <li>真正意义上Task 工作流</li></ol> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="116px" preserveAspectRatio="none" version="1.1" viewBox="0 0 344 116" width="344px" zoomAndPan="magnify" style="width:344px;height:116px;"><defs><filter height="300%" id="f1ixu9ls6sj0ed" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><ellipse cx="127.5" cy="20" fill="#000000" filter="url(#f1ixu9ls6sj0ed)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"></ellipse><rect fill="#FEFECE" filter="url(#f1ixu9ls6sj0ed)" height="33.9688" rx="12.5" ry="12.5" width="235" x="10" y="71.3989" style="stroke:#A80036;stroke-width:1.5;"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="215" x="20" y="92.5376">Relation&amp;condition 更改或者创建Task工作流</text><line x1="127.5" x2="127.5" y1="30" y2="71.3989" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="123.5,61.3989,127.5,71.3989,131.5,61.3989,127.5,65.3989" style="stroke:#A80036;stroke-width:1.0;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="131.5" y="51.3047">project 状态由processing 变为 assigned</text></g></svg><h4 id="_5-bag-translation-状态"><a href="#_5-bag-translation-状态" class="header-anchor">#</a> 5. BAG Translation 状态</h4> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="200px" preserveAspectRatio="none" version="1.1" viewBox="0 0 279 200" width="279px" zoomAndPan="magnify" style="width:279px;height:200px;"><defs><filter height="300%" id="f4dkg3r0jrud" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><ellipse cx="130.5" cy="20" fill="#000000" filter="url(#f4dkg3r0jrud)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"></ellipse><polygon fill="#FEFECE" filter="url(#f4dkg3r0jrud)" points="83,50,178,50,190,62,178,74,83,74,71,62,83,50" style="stroke:#A80036;stroke-width:1.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="83" y="65.8081">BAG 是否关联Project</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="51" y="59.4058">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="190" y="59.4058">no</text><rect fill="#FEFECE" filter="url(#f4dkg3r0jrud)" height="33.9688" rx="12.5" ry="12.5" width="102" x="10" y="84" style="stroke:#A80036;stroke-width:1.5;"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="24" y="105.1387">更新BAG 状态表状态</text><rect fill="#FEFECE" filter="url(#f4dkg3r0jrud)" height="33.9688" rx="12.5" ry="12.5" width="136" x="132" y="84" style="stroke:#A80036;stroke-width:1.5;"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="146" y="105.1387">之前的状态（实际上不需要做任何）</text><polygon fill="#FEFECE" filter="url(#f4dkg3r0jrud)" points="130.5,123.9688,142.5,135.9688,130.5,147.9688,118.5,135.9688,130.5,123.9688" style="stroke:#A80036;stroke-width:1.5;"></polygon><ellipse cx="130.5" cy="178.9688" fill="#FFFFFF" filter="url(#f4dkg3r0jrud)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"></ellipse><ellipse cx="130.5" cy="178.9688" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"></ellipse><line x1="71" x2="61" y1="62" y2="62" style="stroke:#A80036;stroke-width:1.5;"></line><line x1="61" x2="61" y1="62" y2="84" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="57,74,61,84,65,74,61,78" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="190" x2="200" y1="62" y2="62" style="stroke:#A80036;stroke-width:1.5;"></line><line x1="200" x2="200" y1="62" y2="84" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="196,74,200,84,204,74,200,78" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="61" x2="61" y1="117.9688" y2="135.9688" style="stroke:#A80036;stroke-width:1.5;"></line><line x1="61" x2="118.5" y1="135.9688" y2="135.9688" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="108.5,131.9688,118.5,135.9688,108.5,139.9688,112.5,135.9688" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="200" x2="200" y1="117.9688" y2="135.9688" style="stroke:#A80036;stroke-width:1.5;"></line><line x1="200" x2="142.5" y1="135.9688" y2="135.9688" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="152.5,131.9688,142.5,135.9688,152.5,139.9688,148.5,135.9688" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="130.5" x2="130.5" y1="30" y2="50" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="126.5,40,130.5,50,134.5,40,130.5,44" style="stroke:#A80036;stroke-width:1.0;"></polygon><line x1="130.5" x2="130.5" y1="147.9688" y2="167.9688" style="stroke:#A80036;stroke-width:1.5;"></line><polygon fill="#A80036" points="126.5,157.9688,130.5,167.9688,134.5,157.9688,130.5,161.9688" style="stroke:#A80036;stroke-width:1.0;"></polygon></g></svg><h4 id="_6-数据权限"><a href="#_6-数据权限" class="header-anchor">#</a> 6. 数据权限</h4> <p>a. 传入的参数</p> <ol><li>user</li> <li>user+project</li> <li>user+project+task</li></ol> <p>b. 数据过滤<br>
根据用户和业务数据本身过滤<br>
c.数据操作<br>
根据用户和数据本身限定<br>
d. User 语言能力<br>
e. Group User语言能力</p> <h4 id="_7-project-后端api"><a href="#_7-project-后端api" class="header-anchor">#</a> 7. Project 后端API</h4> <p>a. query<br>
b. createOrUpdate<br>
c. relationCreateOrUpdate<br>
d. submit<br>
e. accept<br>
f. reject</p> <h4 id="_8-relation-后端api"><a href="#_8-relation-后端api" class="header-anchor">#</a> 8. Relation 后端API</h4> <p>a. query<br>
b. reject<br>
c.  change<br>
d. assign<br>
e. redirect</p> <h4 id="_9-bag-translation-后端api-调整"><a href="#_9-bag-translation-后端api-调整" class="header-anchor">#</a> 9. BAG translation 后端API 调整</h4> <p>a. query<br>
b. save</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/2/2021, 8:14:15 AM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/docs/tuma.html#前言" class="sidebar-link reco-side-前言" data-v-70334359>前言</a></li><li class="level-2" data-v-70334359><a href="/docs/tuma.html#一、需求" class="sidebar-link reco-side-一、需求" data-v-70334359>一、需求</a></li><li class="level-2" data-v-70334359><a href="/docs/tuma.html#二、tuma-er图" class="sidebar-link reco-side-二、tuma-er图" data-v-70334359>二、Tuma ER图</a></li><li class="level-2" data-v-70334359><a href="/docs/tuma.html#三、技术设计" class="sidebar-link reco-side-三、技术设计" data-v-70334359>三、技术设计</a></li><li class="level-3" data-v-70334359><a href="/docs/tuma.html#_1-bag-task" class="sidebar-link reco-side-_1-bag-task" data-v-70334359>1. BAG Task</a></li><li class="level-3" data-v-70334359><a href="/docs/tuma.html#_2-project" class="sidebar-link reco-side-_2-project" data-v-70334359>2. Project</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><!----><div></div><!----><!----><div class="cat-container" data-v-a13867c0><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-a13867c0></canvas></div></div></div>
    <script src="/assets/js/app.87a2dc73.js" defer></script><script src="/assets/js/3.b43d3268.js" defer></script><script src="/assets/js/1.b04ffbe0.js" defer></script><script src="/assets/js/15.ac7e15df.js" defer></script><script src="/assets/js/8.b7d4adf4.js" defer></script>
  </body>
</html>
